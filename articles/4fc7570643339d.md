---
title: "Zigã§Ray Tracing in One Weekendã‚’ã‚„ã£ã¦ã¿ãŸ"
emoji: "ðŸŸ¡"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["zig", "raytracing","neovim"]
published: true
---

# ã¯ã˜ã‚ã«

ã“ã“æ•°é€±é–“ã§ãƒ›ãƒƒãƒˆãªè¨€èªžã€[Zig](https://ziglang.org/)ã‚’è§¦ã£ã¦ã„ã‚‹ã€‚  
ä½•ã‹ä½œã‚ŠãŸã„ãªã¨æ€ã£ã¦ã„ãŸãŒã€ä»¥å‰ã‹ã‚‰ã‚„ã£ã¦ã¿ãŸã‹ã£ãŸ[Ray Tracing in One Weekend (é€±æœ«ãƒ¬ã‚¤ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°)](https://raytracing.github.io/books/RayTracingInOneWeekend.html)ã‚’ã‚„ã£ã¦ã¿ã‚‹ã“ã¨ã«ã—ãŸã€‚

![æœ€çµ‚ç”»åƒ](/images/ray_tracer.png )
*æœ€çµ‚çš„ã«ç”Ÿæˆã•ã‚Œã‚‹ç”»åƒã€‚ã†ã£ã¨ã‚Šã™ã‚‹*

https://github.com/ryoppippi/Ray-Tracing-in-One-Weekend.zig

https://raytracing.github.io/books/RayTracingInOneWeekend.html
https://inzkyk.xyz/ray_tracing_in_one_weekend/


# æ‰€æ„Ÿ
æœ¬æ–‡ã¯C++ã§æ›¸ã‹ã‚Œã¦ã„ã‚‹ãŒã€ã‚¯ãƒ©ã‚¹ã€ç¶™æ‰¿ã€æ¼”ç®—å­ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ç­‰ã®æ¦‚å¿µã¯Zigã«ã¯ãªã„ãŸã‚é©å®œå·¥å¤«ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã€‚  
ã¾ãŸã€ç­†è€…ãŒæ™®æ®µ(åž‹ã®ç·©ã‚ãª)Pythonã‚„JSã‚’ä¸»ã«ä½¿ã£ã¦ã„ã‚‹ãŸã‚ã€çµ‚å§‹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã«å±ã‚‰ã‚Œã£ã±ãªã—ã ã£ãŸ^[å¤§å­¦ã§Cè¨€èªžã‚’ã¯ã˜ã‚ã¦å­¦ã‚“ã æ™‚ã‚’æ€ã„å‡ºã™]ã€‚

# é¢ç™½ã„/æ°—ã«ãªã£ãŸç‚¹
Rustã‚„Goã€TSç­‰ã®è¿‘ä»£é™çš„åž‹ä»˜è¨€èªžã§ã¯å¸¸è­˜ãªã®ã‹ã‚‚ã—ã‚Œãªã„ãŒã€å€‹äººçš„ã«æ–°é®®ã ã£ãŸæ©Ÿèƒ½ã‚„æ°—ã«ãªã£ãŸç‚¹ã‚’ã“ã“ã«åˆ—æŒ™ã—ã¦ã„ãã€‚ 

:::message
ã“ã®è¨˜äº‹å†…ã§ã®Zigã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯`0.10.0-dev.3007+6ba2fb3db`ã§ã™ã€‚ãã®ãŸã‚ã“ã®è¨˜äº‹ã®å†…å®¹ã¯å¾Œã«å¤ããªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
:::

## ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ã®ã¿å®Ÿè¡Œã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ‰
zigã§ã¯`comptime`ã¨ã„ã†ãƒžãƒ¼ã‚«ã‚’ä»˜ã‘ã‚‹ã“ã¨ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«è©•ä¾¡ã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã“ã¨ãŒã§ãã‚‹ã€‚
åž‹æƒ…å ±ã‚„å®šæ•°ãªã©ã€ã‚ã‚‰ã‹ã˜ã‚è©•ä¾¡ã§ãã‚‹æƒ…å ±ã‚’ç”¨ã„ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã«äº‹å‰å‡¦ç†ã‚’ã•ã›ã‚‹ã‚ˆã†ãªã‚‚ã®ã§ã€ã‚‚ã®ã™ã”ãã‚¯ãƒ¼ãƒ«ã§ã‚ã‚‹ã€‚
ãŸã¨ãˆã°ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã§ã¯å—ã‘å–ã‚‹åž‹ãŒintã‹floatã‹ã§å‘¼ã³å‡ºã™é–¢æ•°ã‚’å¤‰ãˆã¦ã„ã‚‹ï¼ˆã—ã‹ã‚‚ãã‚Œä»¥å¤–ã®åž‹ãŒæ¸¡ã•ã‚ŒãŸã‚‰ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ï¼‰ã€‚

`comptime`ã¯å¤‰æ•°ã‚„å¼•æ•°ã«ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

https://github.com/ryoppippi/Ray-Tracing-in-One-Weekend.zig/blob/d4e400c1e0e6d51f0ba402d3029954bcf6243128/src/rtweekend.zig#L26-L32

ã¾ãŸã€`comptime_int`ã‚„`comptime_float`ãªã‚‹ã‚‚ã®ã‚‚å­˜åœ¨ã™ã‚‹^[https://ziglearn.org/chapter-1/#comptime å‚ç…§]ã€‚å¤‰æ•°ãŒintã‹floatã‹ã‚’å®šç¾©æ™‚ã«ã¯ã–ã£ãã‚Šã¨ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ã¯å…·ä½“çš„ãªåž‹ã«æŽ¨è«–ã§ãã‚‹ç‰¹åˆ¥ãªåž‹ã§ã‚ã‚‹ã€‚

`comptime`ã‚’å¿œç”¨ã™ã‚‹ã¨åž‹ã‚’å—ã‘å–ã£ã¦åž‹ã‚’è¿”ã™é–¢æ•°ã‚’å®šç¾©ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚C++ã®Templateã®ã‚ˆã†ã€‚

:::details åž‹ã‚’å—ã‘å–ã£ã¦structã‚’è¿”ã™ã‚³ãƒ¼ãƒ‰
```zig
const std = @import("std");
fn Vec(
    comptime count: comptime_int,
    comptime T: type,
) type {
    return struct {
        data: [count]T,
        const Self = @This();

        fn init(data: [count]T) Self {
            return Self{ .data = data };
        }
    };
}
pub fn main() void {
    const v = Vec(3, f32).init([3]f32{ 1, 2, 3 });
    std.debug.print("{}", .{v.data.len});
}
```
:::

ä»Šå›žã®å®Ÿè£…ã§ã¯ã€å—ã‘å–ã£ãŸåž‹ãŒVectoråž‹ã§ã‚ã‚‹ã‹ã€ã¾ãŸscalarã¨Vectorã®åž‹ãŒä¸€è‡´ã—ã¦ã„ã‚‹ã‹ã‚’æ¤œè¨¼ã™ã‚‹ãŸã‚ã«ã“ã®æ©Ÿèƒ½ã‚’æ´»ç”¨ã—ãŸã€‚

https://github.com/ryoppippi/Ray-Tracing-in-One-Weekend.zig/blob/d4e400c1e0/src/vec.zig#L141-L151

### **æ³¨æ„**^[ç­†è€…ã¯ã“ã‚Œã«ç´„ï¼‘æ—¥æ‚©ã¾ã•ã‚ŒãŸã€‚æŠ½è±¡çš„ãªåž‹ã«å¯¾ã™ã‚‹é–¢æ•°ã‚’å®šç¾©ã™ã‚‹ã¨ãã¯æ°—ã‚’ã¤ã‘ãŸæ–¹ãŒã‚ˆã•ãã†ã€‚]
`comptime`ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«è©•ä¾¡ã•ã‚Œã‚‹å¤‰æ•°ã«ã®ã¿ä½¿ç”¨ã§ãã‚‹ã€‚
Zigã§ã¯`constant value`ã¨`runtime value`ã¨ã„ã†ï¼’ã¤ã®ç”¨èªžã§åŒºåˆ¥ã—ã¦ã„ã‚‹ã‚ˆã†ã ã€‚
ãªã®ã§ã€ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã¯ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã€‚

```zig
const std = @import("std");

fn size(comptime v: anytype) comptime_int {
    const T: type = @TypeOf(v);
    return @sizeOf(T); // å®šç¾©: @sizeOf(comptime T: type) comptime_int
}

pub fn main() void {
    var v1: i32 = 1; // constã§ã‚‚comptime varã§ã‚‚ãªã„ã®ã§
    std.debug.print("{}\n", .{size(v1)}); // error: runtime value cannot be passed to comptime arg
}
```
ã“ã®å ´åˆã€ä»¥ä¸‹ã®ã‚ˆã†ã«å¤‰æ›´ã™ã‚‹ã¨å®Ÿè¡Œã§ãã‚‹ã€‚
```zig
const std = @import("std");

fn size(comptime T: type) comptime_int {
    return @sizeOf(T);
}

pub fn main() void {
    var v1: i32 = 1;
    const T = @TypeOf(v1); // åž‹æƒ…å ±ã¯é™çš„ãªã®ã§ã€constã§å®šç¾©ã§ãã‚‹
    std.debug.print("{}\n", .{size(T)}); // 4
}
```

## `switch`
`switch`ã¯ã‹ãªã‚Šæ´—ç·´ã•ã‚Œã¦ã„ã¦ã€ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒžãƒƒãƒãƒ³ã‚°ã®ã‚ˆã†ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã‚‹^[https://ziglearn.org/chapter-1/#switch å‚ç…§]ã€‚
ã¾ãŸã€å¼ã¨ã—ã¦ã‚‚åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€ã¨ã¦ã‚‚ä¾¿åˆ©^[ã¨ã„ã†ã‹ä»Šå›žã®å®Ÿè£…ã§ã¯å¼ã¨ã—ã‹åˆ©ç”¨ã—ã¦ã„ãªã„]ã€‚

https://github.com/ryoppippi/Ray-Tracing-in-One-Weekend.zig/blob/7965b1c976/src/rtweekend.zig#L26-L32

## ãƒ©ãƒ™ãƒ«ä»˜ãBlockï¼ˆ2022/07/21è¿½è¨˜ï¼‰
Zigã®Block`{}`ã«ãƒ©ãƒ™ãƒ«ã‚’ä¸Žãˆã‚‹ã¨å¼ã¨ã—ã¦ä½¿ã†ã“ã¨ãŒã§ãã‚‹ã€‚
```zig
test "struct" {
    const a = blk: {
        var x: i32 = 3;
        break :blk x + 2;
    };
    std.debug.print("{}", .{a}); // 5
}
```

ã“ã‚Œã‚’ä½¿ã†ã¨ã€ã¡ã‚‡ã£ã¨ã—ãŸå‡¦ç†ã‚’æŒŸã‚“ã§å€¤ã‚’è¿”ã—ãŸã„ã¨ãã«ã¨ã¦ã‚‚ä¾¿åˆ©ã€‚
ã‚ã–ã‚ã–é–¢æ•°ã‚’ä½œã£ã¦æ¸¡ã—ãŸã‚Šã€`goto`ã‚’å¤šç”¨ã—ãŸã‚Šã€ã¾ãŸãã‚Œã‚‰ã‚’é¿ã‘ã‚‹ãŸã‚ã«è¨˜è¿°ã‚’å¢—ã‚„ã—ãŸã‚Šã™ã‚‹å¿…è¦ãŒãªããªã‚‹ã€‚
ã¾ãŸã€ãƒ©ãƒ™ãƒ«ãŒã¤ã„ã¦ã„ã‚‹ã®ã§ã€ã‚ã–ã‚ã–ã‚³ãƒ¡ãƒ³ãƒˆã‚’æ›¸ã‹ãªãã¦ã‚‚ã‚ã‹ã‚Šã‚„ã™ã„ã‚³ãƒ¼ãƒ‰ã«ãªã‚‹ã€‚

https://github.com/ryoppippi/Ray-Tracing-in-One-Weekend.zig/blob/99459216213d109b7414714bd6c0c30c1d57caec/src/randomScene.zig#L41-L59

:::details å‚è€ƒ: ãƒ©ãƒ™ãƒ«ä»˜ãBlockã‚’ä½¿ã‚ãªã„ã‚³ãƒ¼ãƒ‰
https://github.com/ryoppippi/Ray-Tracing-in-One-Weekend.zig/blob/7965b1c9765caab7168152f472fdef540a77a442/src/randomScene.zig#L41-L62
```zig
if (vec.len(center - Point3{ 4.0, 0.2, 0.0 }) > 0.9) {
        // generate a random material
    if (choose_mat < 0.8) {
        // diffuse
        const albedo = vec.randomVecInRange(rnd, Color, 0, 1) * vec.randomVecInRange(rnd, 
0, 1);
        const diffuse_material = Material.lambertian(albedo);
        const diffuse_sphere = Sphere{ .center = center, .radius = 0.2, 
diffuse_material };
        _ = try world.add(diffuse_sphere);
    } else if (choose_mat < 0.95) {
        // metal
        const albedo = vec.randomVecInRange(rnd, Color, 0.5, 1.0);
        const fuzz = rtw.getRandomInRange(rnd, SType, 0.0, 0.5);
        const metal_material = Material.metal(albedo, fuzz);
        const metal_sphere = Sphere{ .center = center, .radius = 0.2, .mat = metal_material };
        _ = try world.add(metal_sphere);
    } else {
        // glass
        const ir = 1.5;
        const glass_material = Material.dielectric(ir);
        const glass_sphere = Sphere{ .center = center, .radius = 0.2, .mat = glass_material };
        _ = try world.add(glass_sphere);
    }

```

:::

## ç¶™æ‰¿ã®ä»£ã‚ã‚Šã¨ã—ã¦ã®å…±ç”¨ä½“ï¼ˆ`union`ï¼‰
Zigã«ã¯`union`åž‹ãŒå­˜åœ¨ã™ã‚‹^[https://ziglearn.org/chapter-1/#unions å‚ç…§]ã€‚
Cè¨€èªžã®å…±ç”¨ä½“ã¨åŒã˜ãã€ä¸­èº«ã®ãƒ¡ãƒ³ãƒãƒ¼ã®ãƒ¡ãƒ¢ãƒªã¯å…±æœ‰ã•ã‚Œã‚‹ã€‚
å…±ç”¨ä½“ã¯ã‚ã‚‹å¤‰æ•°ã«ä»£å…¥ã—ãŸã„åž‹ãŒè¤‡æ•°ã‚ã‚‹ã¨ãã«ç”¨ã„ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

ã‚ªãƒªã‚¸ãƒŠãƒ«ã®ãƒ†ã‚­ã‚¹ãƒˆã§ã¯C++ã®ã‚¯ãƒ©ã‚¹ã‚„ç¶™æ‰¿ã‚’å¤šç”¨ã—ã¦ã„ãŸãŒã€Zigã«ã¯ãã‚Œã‚‰ã®æ©Ÿèƒ½ã¯ãªã„ãŸã‚ã€è¤‡æ•°ã®`struct`ã‚’ã¾ã¨ã‚ã‚‹å…±ç”¨ä½“ã‚’ä½œæˆã—ãŸã€‚

https://github.com/ryoppippi/Ray-Tracing-in-One-Weekend.zig/blob/7965b1c976/src/material.zig#L17-L33

ã™ã”ã„ã®ã¯ã€Zigã«ã¯ã‚¿ã‚°ä»˜ãå…±ç”¨ä½“ï¼ˆ`tagged union`ï¼‰ãªã‚‹ã‚‚ã®ãŒã‚ã‚‹ã€‚
ã“ã‚ŒãŒã‚ˆãã§ãã¦ã„ã¦ã€å…±ç”¨ä½“ã®ã©ã®ãƒ¡ãƒ³ãƒãƒ¼ãŒä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã‹ã‚’`switch`ã§ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒžãƒƒãƒãƒ³ã‚°ã§ãã‚‹ã€‚
ãƒ¡ãƒ³ãƒãƒ¼ã®ç¨®é¡žã«åˆã‚ã›ã¦å„ã€…ã®å‡¦ç†ã‚’æ›¸ãã“ã¨ãŒã§ãã‚‹ã®ã¨ã¦ã‚‚ä¾¿åˆ©ã€‚

https://github.com/ryoppippi/Ray-Tracing-in-One-Weekend.zig/blob/7965b1c976/src/main.zig#L40-L50


## ãƒã‚¤ãƒ³ã‚¿/å®šæ•°ãƒã‚¤ãƒ³ã‚¿
ãƒã‚¤ãƒ³ã‚¿åž‹ã«ã¯å®šæ•°ã®ã‚‚ã®ï¼ˆ`*const`ï¼‰ã¨ãã†ã§ãªã„ã‚‚ã®ï¼ˆ`*`ï¼‰ãŒã‚ã‚‹ã€‚
`const`ã§å®šç¾©ã•ã‚ŒãŸå¤‰æ•°ï¼ˆå®šæ•°ï¼‰ã‹ã‚‰ãªã‚‹ãƒã‚¤ãƒ³ã‚¿ã¯å®šæ•°ãƒã‚¤ãƒ³ã‚¿ï¼ˆ`*const`ï¼‰ã¨ã„ã†æ‰±ã„ã‚’å—ã‘ã‚‹ãã†ã ã€‚
ãªã®ã§ã€ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã¯ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã€‚

```zig
pub fn main() void {
    const x: u8 = 1;
    var y = &x;
    const _y = &x;
    y.* += 1; // error: cannot assign to constant
    _y.* += 1; // error: cannot assign to constant
}
```
`var`ã§å®šç¾©ã•ã‚ŒãŸå¤‰æ•°ãªã‚‰é€šå¸¸ã®ãƒã‚¤ãƒ³ã‚¿ã¨ãªã‚‹ã€‚
```zig
pub fn main() void {
    var x: u8 = 1;
    var y = &x;
    const _y = &x;
    y.* += 1; // ok
    _y.* += 1; // ok
}
```

## é–¢æ•°ã®å¼•æ•°ã¯å®šæ•°
Cè¨€èªžç­‰ã¨é•ã„ã€Zigã§ã¯é–¢æ•°ã®å¼•æ•°ã¯å®šæ•°ã§ã‚ã‚‹ã€‚
ãã®ãŸã‚ã€å¼•æ•°ã«ä»£å…¥ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã€‚

```zig
const std = @import("std");

fn f(a: anytype) @TypeOf(a) {
    a += 1; // error: cannot assign to constant
    return a;
}

pub fn main() void {
    var a: u8 = 1;
    std.debug.print("{}", .{f(a)});
}
```
ä»®ã®å¤‰æ•°ã‚’çµŒç”±ã™ã‚‹ã‹ã€å¼•æ•°ã‚’ãƒã‚¤ãƒ³ã‚¿ã«ã™ã‚‹ã“ã¨ã§å®Ÿç¾ã§ãã‚‹ã€‚
```zig 
const std = @import("std");

fn f(a: anytype) @TypeOf(a) {
    var tmp = a;
    tmp += 1;
    return tmp;
}

pub fn main() void {
    var a: u8 = 1;
    std.debug.print("{}", .{f(a)});
}
```

## `defer`æ–‡
ãƒ–ãƒ­ãƒƒã‚¯ã‚’æŠœã‘ã‚‹ã¨ãã«å®Ÿè¡Œã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ‰ã‚’å¥½ããªä½ç½®ã«æ›¸ã‘ã‚‹ã€‚
Goã«ã¯ã‚ã‚‹ã‚ˆã†ã ãŒã€è‡ªåˆ†ã«ã¯æ–°é®®ã ã£ãŸã€‚
ãŸã¨ãˆã°ã€ãƒ¡ãƒ¢ãƒªã‚’ç¢ºä¿ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã®ç›´å¾Œã«è§£æ”¾ã™ã‚‹å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ãƒã‚°ãŒæ¸›ã‚Šãã†ã§ä¾¿åˆ©ã€‚

https://github.com/ryoppippi/Ray-Tracing-in-One-Weekend.zig/blob/7965b1c976/src/main.zig#L69-L72


## ãƒ«ãƒ¼ãƒ—
`for`æ–‡ãŒiteratorã«ã—ã‹ä½¿ãˆãªã„ã®ã¯ã³ã£ãã‚Šã—ãŸã€‚
ã˜ã‚ƒã‚æ·»å­—ãŒã²ã¨ã¤ãšã¤å¢—ãˆã¦ã„ããƒ«ãƒ¼ãƒ—ã‚’æ›¸ãã¨ãã¯ã©ã†ã™ã‚‹ã‹ã¨ã„ãˆã°ã€ãªã‚“ã¨`while`ã‚’ä½¿ã†ã—ã‹ãªã„ã‚‰ã—ã„
```zig
fn f() void {
    var i: u32 = 0;
    while (i <= 100) : (i += 1) {
        std.debug.print("{}\n", .{i});
    }
    std.debug.print("done!", .{});
}
```
ä¸€æ˜”å‰ã®Cè¨€èªžã§ã¯æ·»å­—ã‚’`for`ã®ä¸­ã§å®šç¾©ã§ããªã‹ã£ãŸã€ã¨ã„ã†è©±ã‚’æ€ã„å‡ºã—ãŸã€‚
ãŸã ã“ã®ã¾ã¾ã ã¨å¤‰æ•°`i`ã«å¯¾ã—ã¦ã‚¹ã‚³ãƒ¼ãƒ—ã‚‚ä½•ã‚‚ãªã„ã®ã§ã€`{}`ã§æ‹¬ã‚‹ã¨ã„ã„æ„Ÿã˜ã«ãªã‚‹ã€‚

```zig
fn f() void {
    {
        var i: u32 = 0;
        while (i <= 100) : (i += 1) {
            std.debug.print("{}\n", .{i});
        }
    }
    std.debug.print("done!", .{});
}
```

## ãƒ†ã‚¹ãƒˆ
ã‚³ãƒ¼ãƒ‰å†…ã«ãƒ†ã‚¹ãƒˆã‚’ç›´ã«ã‹ã‘ã‚‹ã®ãŒä¾¿åˆ©ã ã£ãŸã€‚
ãŸã ã€æœ€è¿‘ã®ä»–ã®è¨€èªžã§ã¯æ™®é€šï¼Ÿãªã®ã‹ã‚‚ã—ã‚Œãªã„ã€‚

# ãŠã‚ã‚Šã«
ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã«å±ã‚‰ã‚Œã¦ã°ã‹ã‚Šã§ã‚ã¡ã‚ƒãã¡ã‚ƒå®Ÿè£…ãŒé…ããªã£ã¦ã—ã¾ã£ãŸãŒã€é€†ã«è¨€ãˆã°å±ã‚‰ã‚ŒãŸé€šã‚Šã«ä¿®æ­£ã—ã¦ã„ã‘ã°å‹•ãã‚ˆã†ã«ãªã‚‹ã®ã¯ã¨ã¦ã‚‚è‰¯ã„ä½“é¨“ã ã£ãŸã€‚
ã¾ãŸã€ä»–è¨€èªžã§å®Ÿè£…ã—ã¦ã„ã‚‹äººã‚‚ã¡ã‚‰ã»ã‚‰ã„ã‚‰ã£ã—ã‚ƒã‚‹ã®ã‚’æ‹è¦‹ã—ãŸãŒã€ä»Šå›žã®å®Ÿè£…ã¯ã ã„ã¶é€Ÿãå®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«æ€ãˆã‚‹^[æ¯”è¼ƒã®ãƒ™ãƒ³ãƒãƒžãƒ¼ã‚¯ã‚’ã¨ã£ã¦ã„ãªã„ã®ã§ã€ã©ãªãŸã‹æ¯”è¼ƒã—ã¦ã¿ã¦ãã ã•ã„]ã€‚

:::details å‚è€ƒ: æ‰‹å…ƒã®M1 Mac miniã§ã®è¨ˆæ¸¬çµæžœ

```sh
________________________________________________________
Executed in  879.32 secs    fish           external
   usr time  863.33 secs   35.00 micros  863.33 secs
   sys time   15.33 secs  550.00 micros   15.33 secs
```
:::

ä»Šå›žã¯ã¨ã«ã‹ãæ›¸ã„ã¦ã„ã¦æ¥½ã—ã‹ã£ãŸã®ã§ã€ã¾ãŸä½•ã‹æ›¸ã„ã¦ã¿ã‚ˆã†ã¨æ€ã†ã€‚

# é–¢é€£æ–‡çŒ®ç­‰
- [Zig Documentation](https://ziglang.org/documentation/master/) - ã‚ã‹ã‚‰ãªããªã£ãŸã‚‰ã¨ã‚Šã‚ãˆãšè¦‹ã‚‹ã€‚ãŸã æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç­‰ã¯ã¾ã æ–‡ç« åŒ–ã•ã‚Œã¦ã„ãªã„ã®ã§ãƒ¬ãƒã‚¸ãƒˆãƒªã‚’è¦‹ã«è¡Œãæ–¹ãŒæ—©ã‹ã£ãŸã€‚
- [Ziglearn.org](https://ziglearn.org/) - Zigã®ä¾¿åˆ©ãªæ©Ÿèƒ½ãŒã‚ã‹ã‚Šã‚„ã™ãè©°ã¾ã£ã¦ã„ã‚‹ã€‚
- [Gamedev Guide](https://ikrima.dev/dev-notes/zig/zig-crash-course/) - yet another Ziglearnã¨ã„ã†æ„Ÿã˜ã®è¨˜äº‹ã€‚

# ãŠã¾ã‘
Zigã®LSPã§ã‚ã‚‹ZLSã¯ã¾ã ã¾ã ç™ºå±•é€”ä¸Šã§ã‚ã‚‹ï¼ˆå¤‰æ•°åž‹ã®æƒ…å ±ãŒæŠ½å‡ºã•ã‚Œãªã„ã€ãªã©ï¼‰ã€‚  
ãªã®ã§é©å®œã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚’ã™ã‚‹â†’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã«å±ã‚‰ã‚Œã‚‹â†’ä¿®æ­£ã™ã‚‹â†’...ã¨ã„ã†æµã‚Œã§ä½œæ¥­ã—ã¦ã„ãŸã€‚

ã“ã®ã¨ãã€ã‚¨ãƒ©ãƒ¼ã‚’çœºã‚ã¦ãƒ‡ãƒãƒƒã‚°ã™ã‚‹ã®ã«Neovimã®QuickfixãŒã¨ã¦ã‚‚ä¾¿åˆ©ã ã£ãŸã€‚

![nvim](/images/ray_tracer_nvim.gif =500x)
æ•°ãƒ¶æœˆå‰ã«ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ‡ã‚£ã‚¿ã‚’VSCodeã‹ã‚‰Neovimã¸ç§»è¡Œã—ãŸã®ã ãŒã€ä»Šå›žãã®ã‚ã‚ŠãŒãŸã¿ã‚’å­˜åˆ†ã«å®Ÿæ„Ÿã§ããŸã€‚

ã¾ãŸ[vim-jp](https://vim-jp.org)ã®çš†æ§˜ã«ã‚‚ãŠä¸–è©±ã«ãªã‚Šã¾ã—ãŸã€‚
